<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetDex</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="https://lh3.google.com/u/0/d/1Zo-QuyHahtfziPaYGJxMaDGOxM6oYgSO=w1920-h919-iv1?auditContext=prefetch"
            alt="Logo PetDex"
            class="header-icon">
        <h1>Cadastrar-se</h1>
        <p>Insira seus dados nos campos abaixo para se cadastrar.</p>
        </header>

        <main>
            <form action="#" method="post" novalidate>
                <!-- Nome -->
                <div class="form-group">
                    <label for="nome">Nome Completo</label>
                    <input type="text" id="nome" name="nome" required placeholder="Digite seu nome completo">
                </div>

                <!-- CPF -->
                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <input type="text" id="cpf" name="cpf" required placeholder="Digite seu CPF" maxlength="14">
                </div>

                <!-- Data de Nascimento -->
                <div class="form-group">
                    <label for="data-nascimento">Data de Nascimento</label>
                    <input type="date" id="data-nascimento" name="data-nascimento" required>
                </div>

                <!-- E-mail -->
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="email" required placeholder="Digite seu E-mail">
                </div>

                <!-- CEP -->
                <div class="form-group">
                    <label for="cep">CEP</label>
                    <input type="text" id="cep" name="cep" required placeholder="Digite seu CEP" maxlength="9">
                </div>

                <!-- Rua -->
                <div class="form-group">
                    <label for="logradouro">Rua</label>
                    <input type="text" id="logradouro" name="logradouro" required placeholder="" disabled>
                </div>

                <!-- Bairro -->
                <div class="form-group">
                    <label for="bairro">Bairro</label>
                    <input type="text" id="bairro" name="bairro" required placeholder="" disabled>
                </div>

                <!-- Cidade -->
                <div class="form-group">
                    <label for="cidade">Cidade</label>
                    <input type="text" id="cidade" name="cidade" required placeholder="" disabled>
                </div>

                <!-- UF -->
                <div class="form-group">
                    <label for="uf">UF</label>
                    <select id="uf" name="uf" required disabled>
                        <option value="">Selecione...</option>
                        <option value="AC">AC</option>
                        <option value="AL">AL</option>
                        <option value="AP">AP</option>
                        <option value="AM">AM</option>
                        <option value="BA">BA</option>
                        <option value="CE">CE</option>
                        <option value="DF">DF</option>
                        <option value="ES">ES</option>
                        <option value="GO">GO</option>
                        <option value="MA">MA</option>
                        <option value="MT">MT</option>
                        <option value="MS">MS</option>
                        <option value="MG">MG</option>
                        <option value="PA">PA</option>
                        <option value="PB">PB</option>
                        <option value="PR">PR</option>
                        <option value="PE">PE</option>
                        <option value="PI">PI</option>
                        <option value="RJ">RJ</option>
                        <option value="RN">RN</option>
                        <option value="RS">RS</option>
                        <option value="RO">RO</option>
                        <option value="RR">RR</option>
                        <option value="SC">SC</option>
                        <option value="SP">SP</option>
                        <option value="SE">SE</option>
                        <option value="TO">TO</option>
                    </select>
                </div>

                <!-- Bot√£o de envio -->
                <button type="submit" class="btn-submit">Confirmar Cadastro</button>
            </form>
        </main>

        <footer>
            <p>¬© 2025 PetDex. Todos os direitos est√£o esquerdos. üê∂</p>
            <p style="font-size: 0.8rem; color: #aaa;">Obrigado por cuidar dos nossos melhores amigos!</p>
        </footer>
    </div>

    <button id="theme-toggle" aria-label="Alternar modo escuro" class="theme-toggle">
        <span class="theme-icon" aria-hidden="true">üåû</span>
    </button>

    <script>
        // busca de cep autom√°tico
        document.getElementById("cep").addEventListener("blur", async function() {
            const cep = this.value.replace(/\D/g, "");

            if (cep.length !== 8) return;

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();

                if (!data.erro) {
                    document.getElementById("logradouro").value = data.logradouro || "";
                    document.getElementById("bairro").value = data.bairro || "";
                    document.getElementById("cidade").value = data.localidade || "";
                    document.getElementById("uf").value = data.uf || "";

                    document.getElementById("logradouro").disabled = false;
                    document.getElementById("bairro").disabled = false;
                    document.getElementById("cidade").disabled = false;
                    document.getElementById("uf").disabled = false;
                } else {
                    alert("CEP n√£o encontrado. Preencha manualmente.");
                    document.getElementById("logradouro").disabled = false;
                    document.getElementById("bairro").disabled = false;
                    document.getElementById("cidade").disabled = false;
                    document.getElementById("uf").disabled = false;
                }
            } catch (error) {
                console.error("Erro na requisi√ß√£o:", error);
                alert("Erro ao buscar CEP. Verifique sua conex√£o.");
                document.getElementById("logradouro").disabled = false;
                document.getElementById("bairro").disabled = false;
                document.getElementById("cidade").disabled = false;
                document.getElementById("uf").disabled = false;
            }
        });

        // formata√ß√£o autom√°tica do cep
        document.getElementById("cep").addEventListener("input", function(e) {
            let value = e.target.value.replace(/\D/g, "");
            if (value.length > 5) {
                value = value.slice(0, 5) + "-" + value.slice(5, 8);
            }
            e.target.value = value;
        });

        // modo claro/escuro
        const themeToggle = document.getElementById("theme-toggle");
        const themeIcon = document.querySelector(".theme-icon");

        // carrega o tema salvo no localstorage
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme === "dark") {
            document.body.classList.add("dark-theme");
            themeToggle.classList.add("dark");
            themeIcon.textContent = "üåô";
        }

        // alternando entre os temas
        themeToggle.addEventListener("click", () => {
            document.body.classList.toggle("dark-theme");
            themeToggle.classList.toggle("dark");

            if (document.body.classList.contains("dark-theme")) {
                themeIcon.textContent = "üåô";
                localStorage.setItem("theme", "dark");
            } else {
                themeIcon.textContent = "üåû";
                localStorage.setItem("theme", "light");
            }

            // anima√ß√£o pulse
            themeToggle.classList.add("animate");
            setTimeout(() => themeToggle.classList.remove("animate"), 600);
        });
    </script>
</body>
</html>